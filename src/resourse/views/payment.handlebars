
    <div class="payment">
      <div class="content">
        <div class="wrap">
          <div class="banner">
            <a href="#" class="a-dark d-inline-block pb-3">
              <h1 class="text-dark">Minimalist Store</h1>
            </a>
          </div>
          <div class="sidebar">
            <div class="sidebar-content">
              <div class="summary-wrapper">
                <div class="summary-order">
                  <div class="summary-title">
                    <h2>Order Summary</h2>
                    <h2 class="d-lg-none">$1.500</h2>
                  </div>
                  <div class="summary-subtotal summary-text-gray">
                    <h4>Subtotal</h4>
                    <h4>$1.500</h4>
                  </div>
                  <div class="summary-subtotal summary-text-gray">
                    <h4>Delivery/Shipping</h4>
                    <h4>$15</h4>
                  </div>
                  <hr class="summary-divider mt-1" />
                  <div class="summary-total fw-5">
                    <h3 class="fw-4">Total</h3>
                    <h3 class="summary-total-value">$1.515</h3>
                  </div>
                  <hr class="summary-divider" />
                  <div class="mt-3 summary-note">
                    (The total reflects the price of your order, including all
                    duties and taxes)
                  </div>
                  <div class="summary-time-delivery">
                    Arrives Mon, 27 Mar - Wed, 12 Apr
                  </div>
                  <div class="summary-product">
                    <div class="summary-product-wrapper">
                      <div class="summary-product-list">
                        {{#each products}}
                        <div class="product-item">
                          <div class="product-image">
                            <div class="product-thumbnail">
                              <div class="product-thumbnail-wrapper">
                                <img
                                  src="{{this.images}}"
                                  alt=""
                                  class="product-thumbnail-image"
                                />
                              </div>
                            </div>
                          </div>
                          <div class="product-desc">
                            <div class="product-desc-title">
                              <h4> {{this.name}}</h4>
                            </div>
                            <div class="product-desc-info">
                              <div
                                class="product-desc-color pb-2 product-desc-flex"
                              >
                                <h5 class="text-gray fz-14">Color:</h5>
                                <h5>{{this.color}}</h5>
                              </div>
                              <div
                                class="product-desc-quantity pb-2 product-desc-flex"
                              >
                                <h5 class="text-gray fz-14">Quantity:</h5>
                                <h5>{{this.quantity}}</h5>
                              </div>
                              <div
                                class="product-desc-price pb-2 product-desc-flex"
                              >
                                <h5 class="text-gray fz-14">Price</h5>
                                <h5>{{this.price}}</h5>
                              </div>
                            </div>
                          </div>
                        </div>
                       {{/each}}
                      </div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="main">
            <div
              class="main-section section-current"
              id="delivery-info-section"
            >
              <div class="main-section-wrapper">
                <div class="main-header">
                  <a href="#" class="a-dark d-inline-block pb-3">
                    <h1 class="text-dark">Minimalist Store</h1>
                  </a>
                  <ul class="nav-state">
                    <li class="nav-state-item">
                      <a href="bag.html" class="a-dark">Your Bag</a>
                    </li>
                    <li class="nav-state-item nav-state-item-current">
                      Shipping information
                    </li>
                    <li class="nav-state-item">Payment method</li>
                  </ul>
                </div>
                <div class="main-content">
                   <form
                      action="/payment"
                      method="post"
                      class="section-form-group"
                      accept-charset="UTF-8">
                  <div class="step">
                    <div class="step-sections">
                      <div class="section">
                        <div class="section-select">
                          <p class="section-content-title">
                            How would you like to get your order?
                          </p>
                          <div class="section-select-group">
                            <div class="section-radio">
                              <input
                                type="radio"
                                name="shipping"
                                id="deliver_home"
                                class="section-radio__input"
                                value=""
                                checked
                              />
                              <label
                                for="deliver_home"
                                class="section-radio__label ps-4 d-flex align-items-center"
                              >
                                <img
                                  src="/assets/images/payment/delivery-home.svg"
                                  alt=""
                                  width="24px"
                                  height="21px"
                                  class="d-inline-block me-4"
                                />
                                <span> Deliver it</span>
                              </label>
                            </div>
                            <div class="section-radio">
                              <input
                                type="radio"
                                name="shipping"
                                id="deliver_store"
                                class="section-radio__input"
                                value=""
                              />
                              <label
                                for="deliver_store"
                                class="section-radio__label ps-4 d-flex align-items-center"
                              >
                                <img
                                  src="/assets/images/payment/shop.png"
                                  alt=""
                                  width="24px"
                                  height="21px"
                                  class="d-inline-block me-4"
                                />
                                <span> Pick up at store </span>
                              </label>
                            </div>
                          </div>
                        </div>
                        <div class="section-content">
                          <h3 class="section-content-title">
                            Enter your name and address:
                          </h3>
                          <div class="section-formfield">
                           
                          
                              <div class="section-form">
                                <div class="section-form-wrapper">
                                  <input
                                    type="text"
                                    class="section-form-input"
                                    id="customer_last_name"
                                    placeholder=" "
                                    name="name"
                                    autocomplete="off"
                                    required
                                  />
                                  <label
                                    for="customer_last_name"
                                    class="section-form-label"
                                    >Full name</label
                                  >
                                </div>
                              </div>
                              <div class="section-form">
                                <div class="section-form-wrapper">
                                        <select
                                          class="section-form-input"
                                          name="customer_shipping_country"
                                          id="city"
                                        >
                                         
            
                                        </select>
                                  <label
                                    for="customer_last_name"
                                    class="section-form-label"
                                    >Province</label
                                  >
                                </div>
                              </div>
                              <div class="section-form">
                                <div class="section-form-wrapper">
                                  <select
                                    class="section-form-input"
                                    name="customer_shipping_country"
                                    id="district"
                                  >
                                    <option data-code="null" value="null">
                                      District/Town
                                    </option>
                                   
                                  </select>
                                  <label
                                    for="customer_last_name"
                                    class="section-form-label"
                                    >District</label
                                  >
                                </div>
                              </div>
                              <div class="section-form">
                                <div class="section-form-wrapper">
                                  <select
                                    class="section-form-input"
                                    name="customer_shipping_country"
                                    id="ward"
                                  >
                                    <option data-code="null" value="null">
                                      Commune/Ward
                                    </option>
                                   
                                  </select>
                                  <label
                                    for="customer_last_name"
                                    class="section-form-label"
                                    >Commune</label
                                  >
                                </div>
                              </div>
                              <div class="section-form">
                                <div class="section-form-wrapper">
                                  <input
                                    type="text"
                                    class="section-form-input"
                                    id="customer_address_detail"
                                    placeholder=" "
                                    name="address"
                                    autocomplete="off"
                                    required
                                  />
                                  <label
                                    for="customer_first_name"
                                    class="section-form-label"
                                    >Address details</label
                                  >
                                </div>
                              </div>
                          </div>
                        </div>
                        <div class="section-content">
                          <h3 class="section-content-title">
                            What's your contact information?
                          </h3>
                          <div class="section-formfield">
                           
                            <div class="section-form">
                              <div class="section-form-wrapper">
                                <input
                                  type="email"
                                  class="section-form-input"
                                  id="customer_first_name"
                                  placeholder=" "
                                  name="email"
                                  autocomplete="off"
                                  required
                                />
                                <label
                                  for="customer_first_name"
                                  class="section-form-label"
                                  >Email</label
                                >
                              </div>
                            </div>
                            <div class="section-form">
                              <div class="section-form-wrapper">
                                <input
                                  type="tel"
                                  class="section-form-input"
                                  id="customer_last_name"
                                  placeholder=" "
                                  autocomplete="off"
                                  required
                                />
                                <label
                                  for="customer_last_name"
                                  class="section-form-label"
                                  >Phone Number</label
                                >
                              </div>
                              <input
                                 
                                  class="section-form-input"
                                  type="hidden"
                                  id="result"
                                  name="diachi"
                                  placeholder=" "
                                  autocomplete="off"
                                  required
                                />
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="step-footer">
                    
                        <button
                          type="submit"
                          class="btn btn-dark step-footer-btn"
                        >
                          <span class="fz-16">Continue</span>
                        </button>
                  
                      <a
                        href="bag.html"
                        class="a-dark step-footer-previous-link"
                        >Your bag</a
                      >
                    </div>
                  </div>
                  </form>
                </div>
              </div>
            </div>
            <div class="main-section" id="payment-method-section">
              <div class="main-section-wrapper">
                <div class="main-header">
                  <a href="#" class="a-dark d-inline-block pb-3">
                    <h1 class="text-dark">Minimalist Store</h1>
                  </a>
                  <ul class="nav-state">
                    <li class="nav-state-item">
                      <a href="bag.html" class="a-dark">Your Bag</a>
                    </li>
                    <li class="nav-state-item">Shipping information</li>
                    <li class="nav-state-item nav-state-item-current">
                      Payment method
                    </li>
                  </ul>
                </div>
                <div class="main-content">
                  <div class="step">
                    <div class="step-section">
                      <div class="shipping">
                        <div class="shipping-wrapper">
                          <div class="shipping-header">
                            <h2>Your Shipping Infomation</h2>
                          </div>
                          <div class="shipping-info">
                            <div class="shipping-address">
                              <div class="shipping-address-district">
                                <p>Ho Chi Minh City</p>
                              </div>
                              <div class="shipping-address-specific">
                                2118 Thornridge Cir. Syracuse, Connecticut 35624
                              </div>
                            </div>
                            <div class="shipping-name">
                              <p class="fw-6">Tran Buu Quyen master Nodejs</p>
                            </div>
                            <div class="shipping-email">
                              <p>michelle.rivera@example.com</p>
                            </div>
                            <div class="shipping-phone">
                              <p>0738 716 030</p>
                            </div>
                          </div>
                          <div
                            class="shipping-price d-flex align-items-baseline"
                          >
                            <h3 class="fw-5">Price shipping:</h3>
                            <h3 class="fw-5">$15</h3>
                          </div>
                        </div>
                      </div>
                      <p class="text-gray fz-14" style="line-height: 1.6">
                        Please make 100% sure the information you fill in above
                        is correct and pay close attention to your phone. The
                        order processing department will call to confirm the
                        order within 24 hours and proceed to send the goods
                        after successful confirmation. If you call 3 times and
                        do not answer, the order will be automatically canceled.
                      </p>
                    </div>
                    <div class="step-section">
                      <div class="payment-method">
                        <div class="section-select-group d-block">
                          <div class="section-radio w-100 mb-4">
                            <input
                              type="radio"
                              name="payment-radio-method"
                              id="payment-on-delivery"
                              class="section-radio__input"
                              value="payment-on-delivery"
                              checked
                            />
                            <label
                              for="payment-on-delivery"
                              class="section-radio__label ps-4 d-flex align-items-center"
                            >
                              <img
                                src="/assets/images/payment/delivery-home.svg"
                                alt=""
                                width="24px"
                                height="21px"
                                class="d-inline-block"
                              />
                              <span> Payment on delivery</span>
                            </label>
                          </div>
                          <div class="section-radio w-100 mb-4">
                            <input
                              type="radio"
                              name="payment-radio-method"
                              id="vnpay-payment"
                              class="section-radio__input"
                              value="vnpay-payment"
                            />
                            <label
                              for="vnpay-payment"
                              class="section-radio__label ps-4 d-flex align-items-center"
                            >
                              <img
                                src="/assets/images/payment/Icon-VNPAY-QR.jpg"
                                alt=""
                                width="26px"
                                height="21px"
                                class="d-inline-block"
                              />
                              <span> Pay with VNPAY </span>
                            </label>
                          </div>
                        </div>
                      </div>
                    </div>
                    <div class="step-footer">
                      <form
                        action="#"
                        class="step-footer-form step-btn-active"
                        id="continue-delivery"
                        method="post"
                      >
                        <button
                          type="submit"
                          class="btn btn-dark step-footer-btn"
                        >
                          <span class="fz-16">Order</span>
                        </button>
                      </form>
                      <form
                        action="#"
                        class="step-footer-form"
                        id="continue-vnpay"
                        method="post"
                      >
                        <button
                          type="submit"
                          class="btn btn-dark step-footer-btn"
                        >
                          <span
                            class="d-flex justify-content-center align-items-center"
                          >
                            <p class="fz-15 me-2">Continue to</p>
                            <span class="fst-italic fw-bolder fz-16"
                              >VNPAY</span
                            ></span
                          >
                        </button>
                      </form>
                      <a
                        href="#"
                        class="a-dark step-footer-previous-link"
                        id="back-to-delivery-info"
                        >Back</a
                      >
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

 <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" referrerpolicy="no-referrer"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
    <script>
    const host = "https://provinces.open-api.vn/api/";
var callAPI = (api) => {
    return axios.get(api)
        .then((response) => {
            renderData(response.data, "city");
        });
}
callAPI('https://provinces.open-api.vn/api/?depth=1');
var callApiDistrict = (api) => {
    return axios.get(api)
        .then((response) => {
            renderData(response.data.districts, "district");
        });
}
var callApiWard = (api) => {
    return axios.get(api)
        .then((response) => {
            renderData(response.data.wards, "ward");
        });
}

var renderData = (array, select) => {
    let row = ' <option disable value="">Chọn</option>';
    array.forEach(element => {
        row += `<option data-id="${element.code}" value="${element.name}">${element.name}</option>`
    });
    document.querySelector("#" + select).innerHTML = row
}

$("#city").change(() => {
    callApiDistrict(host + "p/" + $("#city").find(':selected').data('id') + "?depth=2");
    printResult();
});
$("#district").change(() => {
    callApiWard(host + "d/" + $("#district").find(':selected').data('id') + "?depth=2");
    printResult();
});
$("#ward").change(() => {
    printResult();
})

var printResult = () => {
    if ($("#district").find(':selected').data('id') != "" && $("#city").find(':selected').data('id') != "" &&
        $("#ward").find(':selected').data('id') != "") {
        let result = $("#city option:selected").text() +
            " | " + $("#district option:selected").text() + " | " +
            $("#ward option:selected").text();
        $("#result").val(result)
    }

}
	</script>
