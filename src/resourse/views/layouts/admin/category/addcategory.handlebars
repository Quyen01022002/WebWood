<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="apple-touch-icon"
      sizes="180x180"
      href="/assets/images/favicon/apple-touch-icon.png"
    />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="/assets/images/favicon/favicon.ico"
    />
    <link
      rel="icon"
      type="image/png"
      sizes="192x192"
      href="/assets/images/favicon/android-chrome-192x192.png"
    />
    <link rel="manifest" href="/assets/images/favicon/site.webmanifest" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/microtip/microtip.css" />
    <link rel="stylesheet" href="/assets/css/reset.css" />
    <link rel="stylesheet" href="/assets/css/base.css" />
    <link rel="stylesheet" href="/assetSeller/css/homeSeller.css" />
    <link rel="stylesheet" href="/assetSeller/css/orderSeller.css" />
    <link rel="stylesheet" href="/assetSeller/css/productSeller.css" />
    
    <title>Category | Add category</title>
  </head>
  <body>
    <div id="scrollTop-btn"></div>
    <div class="wrapper">
        <div class="modal" id="successModal" style="display: none; padding-left: 200px; position: fixed; z-index: 1; left: 0; top: 0; width: 100%; height: 100%; overflow: auto; background-color: rgba(0,0,0,0.4);">
  <div class="modal-content" style="background-color: #fefefe; margin: 15% auto; padding: 20px; border: 1px solid #888; width: 80%;">
    <span class="close" style="color: #aaa; float: right; font-size: 28px; font-weight: bold; cursor: pointer;" onclick="document.getElementById('successModal').style.display = 'none';">&times;</span>
    <p id="successMessage">Danh mục đã tồn tại</p>
  </div>
</div>
      <div class="grid-wrapper">
        <!-- Start aside -->
        <aside>
          <div class="top">
            <div class="logo ms-3">
              <a href="/views/index.html" class="logo-img d-block">
                <img src="../assets/images/header/header-logo.svg" alt="" />
              </a>
              <h1 class="logo-title lh-base ms-2">Mini</h1>
            </div>
            <div class="close" id="close-btn">
              <i class="fa-solid fa-xmark"></i>
            </div>
          </div>
          <div class="sidebar">
            <div class="sidebar-list">
              <div class="sidebar-item">
                <a href="/admin" class="sidebar-link">
                  <div class="sidebar-link-icon">
                    <i class="fa-solid fa-house"></i>
                  </div>
                  <h3>Home</h3>
                </a>
              </div>
              <div class="sidebar-item">
                <a href="/admin/orders" class="sidebar-link">
                  <div class="sidebar-link-icon">
                    <i class="fa-solid fa-file-lines"></i>
                  </div>
                  <h3>Orders</h3>
                </a>
              </div>
              <div class="sidebar-item">
                <a href="/admin/products" class="sidebar-link">
                  <div class="sidebar-link-icon">
                    <i class="fa-solid fa-couch"></i>
                  </div>
                  <h3>Products</h3>
                </a>
              </div>
              <div class="sidebar-item">
                <a href="/admin/categories" class="sidebar-link active">
                  <div class="sidebar-link-icon">
                    <i class="fa-solid fa-list-ul"></i>
                  </div>
                  <h3>Categories</h3>
                </a>
              </div>
              <div class="sidebar-item">
                <a href="/admin/users" class="sidebar-link">
                  <div class="sidebar-link-icon">
                    <i class="fa-solid fa-person"></i>
                  </div>
                  <h3>Users</h3>
                </a>
              </div>
              <div class="sidebar-item">
                <a href="#" class="sidebar-link">
                  <div class="sidebar-link-icon">
                    <i class="fa-solid fa-arrow-right-from-bracket"></i>
                  </div>
                  <h3>Logout</h3>
                </a>
              </div>
            </div>
          </div>
        </aside>
        <!-- End aside -->

        <!-- Start main -->
        <main>
          <div class="header-seller">
            <div id="menu-btn" class="menu-bar-btn">
              <button class="top-button">
                <i class="fa-solid fa-bars"></i>
              </button>
            </div>
            <div class="theme-toggle" id="theme-toggle">
              <i class="fa-regular fa-lightbulb active"></i>
              <i class="fa-solid fa-moon"></i>
            </div>
            <div class="profile">
              <div class="info">
                <p class="d-flex align-items-center">
                  Hey,
                  <b class="text-truncate profile-info-name ms-2">Lucy</b>
                </p>
                <small class="text-muted">Admin</small>
              </div>
              <div class="profile-photo">
                <img src="../assetSeller/images/lucy.jpg" alt="" />
                <ul class="profile-photo-subnav">
                  <li><a href="#">Profile settings</a></li>
                  <hr class="profile-photo-divide" />
                  <li><a href="">Sign out</a></li>
                </ul>
              </div>
            </div>
          </div>
          <div class="order-wrapper">
            <div class="content mb-2">
              <div class="row">
                <div
                  class="col-12 col-md-auto d-flex flex-grow-1 align-items-center"
                >
                  <ul class="nav-state">
                    <li class="nav-state-item">
                      <a href="categorySeller.html" class="nav-state-link"
                        >Category</a
                      >
                    </li>
                    <li class="nav-state-item nav-state-item-current">
                      Add Category
                    </li>
                  </ul>
                </div>
              </div>
            </div>
            <section>
              <div class="row">
                <div class="col-12">
                  <form action="" method="post">
                    <div class="row">
                      <div class="col-12">
                        <div class="card p-5">
                          <div class="card-body">
                            <div class="form-wrapper">
                              <h3 class="form-wrap-title">Add new catecory</h3>
                              <div class="form-group">
                                <div class="card-body">
                                  <div class="formfield">
                                    <div
                                      class="row align-items-center form-group-input"
                                    >
                                      <div class="col-md-3">
                                        <p class="form-input-title">
                                          Category name:
                                          <span class="text-danger">*</span>
                                        </p>
                                      </div>
                                      <div class="col-md-7">
                                        <input
                                          type="text"
                                          id ="catename"
                                          name="catename"
                                          class="form-input-right ps-4"
                                          maxlength="255"
                                          required
                                        />
                                        
                                      </div>
                                    </div>
                                  </div>
                                  <div class="formfield">
                                    <div
                                      class="row align-items-center form-group-input"
                                    >
                                      <div class="col-md-3">
                                        <p class="form-input-title">
                                          Category avatar:
                                        </p>
                                      </div>
                                      <div class="col-md-7">
                                        <div class="form-input-wrap">
                                          <div
                                            class="form-icon-left position-absolute btn-upload-img"
                                          >
                                            <input
                                              type="file"
                                              class="avatar-upload-input"
                                               accept="image/*"
                                              id="image2" onchange="displayImagePath(this)"
                                            />
                                            <label
                                              class="avatar-upload-label"
                                              for="image2"
                                            >
                                              <img
                                                src="/assetSeller/images/icon-upload.svg"
                                                alt=""
                                              />
                                            </label>
                                          </div>
                                          <input
                                            type="text"
                                            class="form-input-right"
                                            placeholder="*.jpg/png/jpeg"
                                            id="avatarImagePath"
                                            name ="avatarImagePath"
                                            readonly
                                          />
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="formfield">
                                    <div
                                      class="row align-items-center form-group-input"
                                    >
                                      <div class="col-md-3">
                                        <p class="form-input-title">
                                          Avatar preview:
                                        </p>
                                      </div>
                                      <div class="col-md-7">
                                        <div class="form-avatar-preview">
                                          <img
                                            src="/assets/images/wall/product-grid/arai chairs.png"
                                            alt=""
                                            class="obj-cover"
                                          />
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                  <div class="formfield">
                                    <div
                                      class="row align-items-center form-group-input"
                                    >
                                      <div class="col-md-3">
                                        <p class="form-input-title">
                                          Category status:
                                          <span class="text-danger">*</span>
                                        </p>
                                      </div>
                                      <div class="col-md-7">
                                        <div class="form-group">
                                          <div class="formfield">
                                            <div class="fieldset">
                                              <div class="fieldset-radio-wrap">
                                                <div class="fieldset-radio">
                                                  <input
                                                    class="form-input"
                                                    type="radio"
                                                    value=""
                                                    name="product-status"
                                                    id="available"
                                                    checked
                                                  />
                                                  <label
                                                    for="available"
                                                    class="form-label-radio"
                                                    >Available</label
                                                  >
                                                </div>
                                                <div class="fieldset-radio">
                                                  <input
                                                    class="form-input"
                                                    type="radio"
                                                    value=""
                                                    name="product-status"
                                                    id="disable"
                                                  />
                                                  <label
                                                    for="disable"
                                                    class="form-label-radio"
                                                    >Disable</label
                                                  >
                                                </div>
                                              </div>
                                            </div>
                                          </div>
                                        </div>
                                      </div>
                                    </div>
                                  </div>
                                </div>
                              </div>
                            </div>
                            <div class="form-add-footer mt-0">
                              <div class="form-wrapper">
                                <form action="/admin/categories/add-product" method="POST">
                                  <div
                                    class="d-flex align-items-center justify-content-end gap-3"
                                  >
                                    <a
                                      class="stardust-button fz-16"
                                      style="width: 11rem; border-radius: 1rem"
                                    >
                                      Save draft
                                    </a>
                                    <button
                                      class="stardust-button btn-solid fz-16"
                                      style="width: 11rem; border-radius: 1rem"
                                      
                                    >
                                      Save
                                    </button>
                                  </div>
                                </form>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </form>
                </div>
              </div>
            </section>
          </div>
        </main>
      </div>
    </div>
    <script src="/assetSeller/js/homeSeller.js"></script>
    <script>
 async function displayImagePath(input) {
    try {
        const imagePathInput = document.getElementById('avatarImagePath');

        // Hiển thị hình ảnh được chọn trong phần preview
        const previewImage = document.querySelector('.form-avatar-preview img');
        
        // Tạo một Promise để trả về đường dẫn của hình ảnh được chọn
        return new Promise((resolve, reject) => {
            if (input.files && input.files[0]) {
                const reader = new FileReader();

                reader.onload = function(e) {
                    const imageURL = e.target.result;
                    previewImage.src = imageURL;
                    imagePathInput.value = imageURL; // Lưu đường dẫn của hình ảnh vào một input hoặc biến để sử dụng sau này
                    resolve(imageURL); // Trả về đường dẫn của hình ảnh sau khi đã chọn
                };

                reader.onerror = function(error) {
                    reject(error); // Trả về lỗi nếu có lỗi xảy ra khi đọc hình ảnh
                };

                reader.readAsDataURL(input.files[0]);
            } else {
                reject(new Error('Không có tệp hình ảnh được chọn'));
            }
        });
    } catch (error) {
        console.error('Đã xảy ra lỗi:', error);
        throw error;
    }
}

// Sử dụng hàm displayImagePath:
const fileInput = document.getElementById('yourFileInputId'); // Thay 'yourFileInputId' bằng ID thực của input file của bạn
fileInput.addEventListener('change', async function(event) {
    try {
        const imageURL = await displayImagePath(event.target);
        console.log('Đường dẫn của hình ảnh đã chọn:', imageURL);
        // Bạn có thể sử dụng imageURL cho mục đích của bạn, vì nó chứa đường dẫn của hình ảnh đã chọn
    } catch (error) {
        console.error('Đã xảy ra lỗi:', error);
        // Xử lý lỗi nếu có bất kỳ lỗi nào xảy ra trong quá trình chọn hình ảnh
    }
});

</script>
  </body>
</html>
